(this["webpackJsonpccxt-simple-client"]=this["webpackJsonpccxt-simple-client"]||[]).push([[0],{208:function(e,t,a){e.exports=a(456)},213:function(e,t,a){},215:function(e,t,a){},226:function(e,t,a){},372:function(e,t,a){},377:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},409:function(e,t,a){},414:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);var n,r,c,o,i,s,l,u=a(0),p=a.n(u),b=a(6),m=a.n(b),d=(a(213),a(16)),f=a.n(d),O=a(30),h=a(119),v=(a(215),a(20)),y=a(24),j=a(21),g=a(13),k=a(25),E=a(29),x=a(4),w=function(){function e(t,a,n){Object(v.a)(this,e),this.store=void 0,this.parent=void 0,this.store=t,t||(this.store=this),this.parent=a,this.applySnapShot(n)}return Object(E.a)(e,[{key:"getSnapShoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,a=Object.assign({},t);return e.getStoreSnapShoot(a)}},{key:"toJSON",value:function(){var e=Object.assign({},this);return delete e.store,delete e.parent,e}},{key:"applySnapShot",value:function(e){}}],[{key:"getStoreSnapShoot",value:function(t){delete t.store,delete t.parent;for(var a=0,n=Object.keys(t);a<n.length;a++){var r=n[a];if(t.hasOwnProperty(r)){var c=t[r];c instanceof e?t[r]=c.getSnapShoot():Array.isArray(c)||Object(x.isObservableArray)(c)?(c=c.map((function(t){return t instanceof e&&(t=t.getSnapShoot()),t})),t[r]=c):c instanceof Map||Object(x.isObservableMap)(c)?function(){var a={};c.forEach((function(t,n){a[n]=t,t instanceof e&&(a[n]=t.getSnapShoot())})),t[r]=a}():"object"===typeof c&&(t[r]=e.getStoreSnapShoot(c))}}return t}}]),e}(),C=a(22),A=a(7),S=(a(55),function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),t}(w)),T=a(189),I=(n=function(e){function t(e,a){var n;return Object(v.a)(this,t),n=Object(y.a)(this,Object(j.a)(t).call(this,e,a)),Object(C.a)(n,"version",r,Object(g.a)(n)),n.ls=void 0,n.ls=T,n}return Object(k.a)(t,e),t}(S),r=Object(A.a)(n.prototype,"version",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),n),M=a(120),N=(c=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"loading",o,Object(g.a)(a)),Object(C.a)(a,"lastUpdateTime",i,Object(g.a)(a)),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"loadingStart",value:function(){this.loading=!0}},{key:"loadingEnd",value:function(){this.loading=!1,this.lastUpdateTime=new Date}},{key:"updateRes",value:function(){console.warn("need to be implemented")}}]),t}(S),o=Object(A.a)(c.prototype,"loading",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(A.a)(c.prototype,"lastUpdateTime",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),c);!function(e){e.buy="buy",e.sell="sell",e.both="both"}(s||(s={})),function(e){e.plusTick="plusTick",e.zeroPlusTick="ZeroPlusTick",e.minusTick="minusTick",e.zeroMinusTick="ZeroMinusTick"}(l||(l={}));var R=a(27),z=a.n(R);function P(e,t){if(!(e.length<2))for(var a=e.length-1,n=0;n<a;n++){t(e[n],e[n+1])}}var B,L,D,K,G,U,X,F,H,q,Z,V,W,_,J,$,Q,Y,ee,te,ae,ne,re,ce,oe,ie,se,le,ue,pe,be,me=function e(t,a){var n=this;Object(v.a)(this,e),this.rootKey=void 0,this.ls=void 0,this.lsGet=function(e,t){var a=n.ls.get(n.rootKey,{})[e];return void 0===a&&(a=t),a},this.lsSet=function(e,t){var a=n.ls.get(n.rootKey,{});a[e]=t,n.ls.set(n.rootKey,a)},this.lsRemove=function(e){var t=n.ls.get(n.rootKey,{});delete t[e],n.ls.set(n.rootKey,t)},this.rootKey=a,this.ls=t},de=(B=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"trades",L,Object(g.a)(a)),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"updateRes",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),t=this.market,e.next=4,this.ccxtIns.fetchTrades(t.spec.symbol);case 4:a=e.sent,Object(x.runInAction)((function(){a=z.a.orderBy(a,"timestamp",["desc"]),P(z.a.reverse(a),(function(e,t){var a=l.zeroMinusTick;t.price>e.price?a=l.plusTick:t.price<e.price?a=l.minusTick:t.price===e.price&&(a=e.tick===l.plusTick||e.tick===l.zeroPlusTick?l.zeroPlusTick:l.zeroMinusTick),t.tick=a})),n.trades=z.a.orderBy(a,"timestamp",["desc"])})),this.loadingEnd();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"market",get:function(){return this.parent}},{key:"ccxtIns",get:function(){return this.parent.parent.ccxtIns}}]),t}(N),L=Object(A.a)(B.prototype,"trades",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(A.a)(B.prototype,"updateRes",[x.action],Object.getOwnPropertyDescriptor(B.prototype,"updateRes"),B.prototype),B),fe=(D=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"asks",K,Object(g.a)(a)),Object(C.a)(a,"bids",G,Object(g.a)(a)),a.transferToOrderBookRes=function(e){return{price:e[0],size:e[1],accumulateSize:e[1]}},a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"updateRes",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),t=this.market,e.next=4,this.ccxtIns.fetchOrderBook(t.spec.symbol).then((function(e){a.bids=e.bids.map(a.transferToOrderBookRes),a.asks=e.asks.map(a.transferToOrderBookRes)}));case 4:this.loadingEnd();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"market",get:function(){return this.parent}},{key:"ccxtIns",get:function(){return this.parent.parent.ccxtIns}}]),t}(N),K=Object(A.a)(D.prototype,"asks",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=Object(A.a)(D.prototype,"bids",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(A.a)(D.prototype,"updateRes",[x.action],Object.getOwnPropertyDescriptor(D.prototype,"updateRes"),D.prototype),D),Oe=(U=function(e){function t(e,a,n){var r;return Object(v.a)(this,t),r=Object(y.a)(this,Object(j.a)(t).call(this,e,a)),Object(C.a)(r,"recentTrades",X,Object(g.a)(r)),Object(C.a)(r,"orderBook",F,Object(g.a)(r)),Object(C.a)(r,"spec",H,Object(g.a)(r)),Object(C.a)(r,"lastTicker",q,Object(g.a)(r)),r.spec=n,r.recentTrades=new de(e,Object(g.a)(r)),r.orderBook=new fe(e,Object(g.a)(r)),r}return Object(k.a)(t,e),Object(E.a)(t,[{key:"updateRes",value:function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.recentTrades.updateRes();case 3:return e.next=5,this.orderBook.updateRes();case 5:this.loadingEnd();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lastTrade",get:function(){return this.recentTrades.trades[0]}},{key:"lastPrice",get:function(){return this.lastTrade?this.lastTrade.price:0}}]),t}(N),X=Object(A.a)(U.prototype,"recentTrades",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Object(A.a)(U.prototype,"orderBook",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=Object(A.a)(U.prototype,"spec",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Object(A.a)(U.prototype,"lastTicker",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(A.a)(U.prototype,"updateRes",[x.action],Object.getOwnPropertyDescriptor(U.prototype,"updateRes"),U.prototype),Object(A.a)(U.prototype,"lastTrade",[x.computed],Object.getOwnPropertyDescriptor(U.prototype,"lastTrade"),U.prototype),Object(A.a)(U.prototype,"lastPrice",[x.computed],Object.getOwnPropertyDescriptor(U.prototype,"lastPrice"),U.prototype),U),he=(Z=function(e){function t(e,a){var n;return Object(v.a)(this,t),(n=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).marketsMap=x.observable.map({},{name:"marketsMap"}),Object(C.a)(n,"ccxtIns",V,Object(g.a)(n)),Object(C.a)(n,"exchange",W,Object(g.a)(n)),Object(C.a)(n,"createCCXTOption",_,Object(g.a)(n)),Object(C.a)(n,"fetchedMarkets",J,Object(g.a)(n)),window.bigone=Object(g.a)(n),n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"updateRes",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loadingStart(),this.fetchedMarkets){e.next=7;break}return e.next=4,this.ccxtIns.fetchMarkets();case 4:t=e.sent,this.fetchedMarkets=!0,Object(x.runInAction)((function(){t.forEach((function(e){var t=new Oe(n.store,n,e);n.marketsMap.set(e.symbol,t)}))}));case 7:return e.next=9,this.ccxtIns.fetchTickers();case 9:a=e.sent,Object(x.runInAction)((function(){z.a.each(a,(function(e){var t=n.marketsMap.get(e.symbol);t&&(t.lastTicker=e)}))})),this.loadingEnd();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMarketsByCoinSymbol",value:function(e){return this.allMarkets.filter((function(t){return t.spec.base===e}))}},{key:"getMarketsByCoinSymbolFilterActive",value:function(e){return this.allMarkets.filter((function(t){return t.spec.base===e}))}},{key:"createCCXTIns",value:function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new window.ccxt[this.exchange](this.createCCXTOption);case 2:this.ccxtIns=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSnapShoot",value:function(){var e=Object(M.a)(Object(j.a)(t.prototype),"getSnapShoot",this).call(this);return delete e.ccxtIns,e}},{key:"allMarkets",get:function(){return Array.from(this.marketsMap.values())}}]),t}(N),V=Object(A.a)(Z.prototype,"ccxtIns",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=Object(A.a)(Z.prototype,"exchange",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"bigone3"}}),_=Object(A.a)(Z.prototype,"createCCXTOption",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{urls:{api:{private:"https://b1.run/api/v3/viewer",public:"https://b1.run/api/v3"}}}}}),J=Object(A.a)(Z.prototype,"fetchedMarkets",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(A.a)(Z.prototype,"updateRes",[x.action],Object.getOwnPropertyDescriptor(Z.prototype,"updateRes"),Z.prototype),Object(A.a)(Z.prototype,"createCCXTIns",[x.action],Object.getOwnPropertyDescriptor(Z.prototype,"createCCXTIns"),Z.prototype),Object(A.a)(Z.prototype,"allMarkets",[x.computed],Object.getOwnPropertyDescriptor(Z.prototype,"allMarkets"),Z.prototype),Z),ve=($=function(e){function t(e,a){var n;Object(v.a)(this,t),(n=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).exchangesMap=x.observable.map({},{name:"exchangesMap"});var r=new he(n.store,Object(g.a)(n));n.exchangesMap.set(r.exchange,r);return z.a.each(["bittrex","basefex","coss","bibox","huobipro","okex3","poloniex","coinbasepro"],(function(e){var t=new he(n.store,Object(g.a)(n));t.exchange=e,t.createCCXTOption={},n.exchangesMap.set(e,t)})),n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"initExchanges",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a,n,r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,a=!1,n=void 0,e.prev=3,r=this.all[Symbol.iterator]();case 5:if(t=(c=r.next()).done){e.next=12;break}return o=c.value,e.next=9,o.createCCXTIns();case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),a=!0,n=e.t0;case 18:e.prev=18,e.prev=19,t||null==r.return||r.return();case 21:if(e.prev=21,!a){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"all",get:function(){return Array.from(this.exchangesMap.values())}}]),t}(N),Object(A.a)($.prototype,"all",[x.computed],Object.getOwnPropertyDescriptor($.prototype,"all"),$.prototype),Object(A.a)($.prototype,"initExchanges",[x.action],Object.getOwnPropertyDescriptor($.prototype,"initExchanges"),$.prototype),$),ye=(Q=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"exchange",Y,Object(g.a)(a)),Object(C.a)(a,"market",ee,Object(g.a)(a)),Object(C.a)(a,"account",te,Object(g.a)(a)),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"changeExchange",value:function(e){this.exchange=e,this.market=null,this.account=null}}]),t}(S),Y=Object(A.a)(Q.prototype,"exchange",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=Object(A.a)(Q.prototype,"market",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=Object(A.a)(Q.prototype,"account",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(A.a)(Q.prototype,"changeExchange",[x.action],Object.getOwnPropertyDescriptor(Q.prototype,"changeExchange"),Q.prototype),Q),je=(ae=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).map=x.observable.map({},{name:"balance"}),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"updateRes",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.ccxtIns.fetchBalance();case 3:t=e.sent,z.a.each(t,(function(e,t){e.base=t})),delete t.info,this.map.merge(t),this.loadingEnd();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ccxtIns",get:function(){return this.parent.ccxtIns}},{key:"balancesAll",get:function(){var e=Array.from(this.map.values());return e=z.a.orderBy(e,["total"],["desc"])}},{key:"balancesNotZero",get:function(){return this.balancesAll.filter((function(e){return e.total>1e-4}))}}]),t}(N),Object(A.a)(ae.prototype,"updateRes",[x.action],Object.getOwnPropertyDescriptor(ae.prototype,"updateRes"),ae.prototype),Object(A.a)(ae.prototype,"balancesAll",[x.computed],Object.getOwnPropertyDescriptor(ae.prototype,"balancesAll"),ae.prototype),Object(A.a)(ae.prototype,"balancesNotZero",[x.computed],Object.getOwnPropertyDescriptor(ae.prototype,"balancesNotZero"),ae.prototype),ae),ge=(ne=function(e){function t(e,a,n){var r;return Object(v.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).map=x.observable.map({},{name:"orderMap"}),Object(C.a)(r,"market",re,Object(g.a)(r)),Object(C.a)(r,"latestClosedOrder",ce,Object(g.a)(r)),r.lsLatestClosedOrders=new me(r.store.config.ls,"LatestClosedOrders"),r.lsGetOrderKey=function(){return"".concat(r.market.parent.exchange,"-").concat(r.parent.name,"-").concat(r.market.spec.symbol)},r.lsLatestClosedOrdersSet=function(e){var t=r.lsLatestClosedOrders.lsGet("orders",{}),a=r.lsGetOrderKey(),n={marketSymbol:r.market.spec.symbol,orderId:e.id,account:r.parent.name};t[a]=n,r.lsLatestClosedOrders.lsSet("orders",t)},r.lsLatestClosedOrdersDelete=function(){var e=r.lsLatestClosedOrders.lsGet("orders",{});delete e[r.lsGetOrderKey()],r.lsLatestClosedOrders.lsSet("orders",e)},r.createLatestClosedOrderFromLs=function(){var e=r.lsLatestClosedOrders.lsGet("orders",{})[r.lsGetOrderKey()];e&&(r.latestClosedOrder=r.map.get(e.orderId))},r.market=n,r}return Object(k.a)(t,e),Object(E.a)(t,[{key:"updateRes",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,a,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),t=this.market,a=t.spec.symbol,e.next=5,this.ccxtIns.fetchOrders(a);case 5:n=e.sent,Object(x.runInAction)((function(){n=z.a.orderBy(n,"timestamp",["desc"]);var e=z.a.keyBy(n,"id");r.map.merge(e),r.createLatestClosedOrderFromLs(),r.loadingEnd()}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLatestClosedOrder",value:function(e){this.latestClosedOrder=e,this.lsLatestClosedOrdersSet(e)}},{key:"ccxtIns",get:function(){return this.parent.ccxtIns}},{key:"all",get:function(){var e=Array.from(this.map.values());return e=z.a.orderBy(e,["timestamp"],["desc"])}},{key:"activeOrders",get:function(){return this.all.filter((function(e){return"open"===e.status}))}},{key:"palOrders",get:function(){var e=this.all;return this.latestClosedOrder&&(e=z.a.take(e,z.a.indexOf(e,this.latestClosedOrder))),e}}]),t}(N),re=Object(A.a)(ne.prototype,"market",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(A.a)(ne.prototype,"all",[x.computed],Object.getOwnPropertyDescriptor(ne.prototype,"all"),ne.prototype),Object(A.a)(ne.prototype,"activeOrders",[x.computed],Object.getOwnPropertyDescriptor(ne.prototype,"activeOrders"),ne.prototype),Object(A.a)(ne.prototype,"updateRes",[x.action],Object.getOwnPropertyDescriptor(ne.prototype,"updateRes"),ne.prototype),ce=Object(A.a)(ne.prototype,"latestClosedOrder",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(A.a)(ne.prototype,"palOrders",[x.computed],Object.getOwnPropertyDescriptor(ne.prototype,"palOrders"),ne.prototype),Object(A.a)(ne.prototype,"setLatestClosedOrder",[x.action],Object.getOwnPropertyDescriptor(ne.prototype,"setLatestClosedOrder"),ne.prototype),ne),ke=(oe=function(e){function t(e,a){var n;return Object(v.a)(this,t),n=Object(y.a)(this,Object(j.a)(t).call(this,e,a)),Object(C.a)(n,"ccxtIns",ie,Object(g.a)(n)),Object(C.a)(n,"name",se,Object(g.a)(n)),Object(C.a)(n,"exchange",le,Object(g.a)(n)),Object(C.a)(n,"createCCXTOption",ue,Object(g.a)(n)),Object(C.a)(n,"balances",pe,Object(g.a)(n)),n.accountOrdersMap=x.observable.map({},{name:"accountOrdersMap"}),n.balances=new je(e,Object(g.a)(n)),n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"updateRes",value:function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadingStart(),this.loadingEnd();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createCCXTIns",value:function(){var e=Object(O.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.exchange=t,a=Object.assign({},t.createCCXTOption,this.createCCXTOption),e.next=4,new window.ccxt[t.exchange](a);case 4:this.ccxtIns=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createOrUpdateOrdersByMarket",value:function(e){var t=e.spec.symbol,a=this.accountOrdersMap.get(t);return a||(a=new ge(this.store,this,e),this.accountOrdersMap.set(t,a)),a}},{key:"safeGetAccountOrder",value:function(e){return this.createOrUpdateOrdersByMarket(e)}},{key:"computeOutMoneyByHistory",value:function(e){return e.filter((function(e){return e.filled>0})).reduce((function(e,t){var a=0;return a="limit"===t.type?t.price*t.amount:t.filled,"sell"===t.side&&(a*=-1),e+a}),0)}},{key:"computeCurrentValue",value:function(e){var t=e.lastPrice;return this.balances.map.get(e.spec.base).total*t}},{key:"computeProfitAndRate",value:function(e){var t=this.safeGetAccountOrder(e),a=this.computeOutMoneyByHistory(t.palOrders),n=this.computeCurrentValue(e);return{profit:n-a,rate:(n-a)/a}}},{key:"getSnapShoot",value:function(){var e=Object(M.a)(Object(j.a)(t.prototype),"getSnapShoot",this).call(this);return delete e.ccxtIns,delete this.exchange,e}}]),t}(N),ie=Object(A.a)(oe.prototype,"ccxtIns",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=Object(A.a)(oe.prototype,"name",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"bigone3"}}),le=Object(A.a)(oe.prototype,"exchange",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=Object(A.a)(oe.prototype,"createCCXTOption",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(A.a)(oe.prototype,"updateRes",[x.action],Object.getOwnPropertyDescriptor(oe.prototype,"updateRes"),oe.prototype),Object(A.a)(oe.prototype,"createCCXTIns",[x.action],Object.getOwnPropertyDescriptor(oe.prototype,"createCCXTIns"),oe.prototype),pe=Object(A.a)(oe.prototype,"balances",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(A.a)(oe.prototype,"createOrUpdateOrdersByMarket",[x.action],Object.getOwnPropertyDescriptor(oe.prototype,"createOrUpdateOrdersByMarket"),oe.prototype),oe),Ee=(be=function(e){function t(e,a){var n;return Object(v.a)(this,t),(n=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).accountsMap=x.observable.map({},{name:"accountsMap"}),n.lsAccounts=new me(n.store.config.ls,"accounts"),n.lsAccountsAdd=function(e,t,a){var r=n.lsAccounts.lsGet("list",[]);r.find((function(e){return e.name===t.name}))?console.warn("\u5df2\u7ecf\u5b58\u5728",e,t):r.push(Object.assign({},{exchangeKey:e,name:t.name,cctxOption:a})),n.lsAccounts.lsSet("list",r)},n.lsAccountsRemove=function(e){var t=n.lsAccounts.lsGet("list",[]);z.a.remove(t,(function(t){return t.name===e})),n.accountsMap.delete(e),n.lsAccounts.lsSet("list",t)},n.lsAccountsGetAllAccounts=function(){return n.lsAccounts.lsGet("list",[])},n.createAccountsFromLs=Object(O.a)(f.a.mark((function e(){var t,a,r,c,o,i,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.lsAccountsGetAllAccounts(),a=!0,r=!1,c=void 0,e.prev=4,o=t[Symbol.iterator]();case 6:if(a=(i=o.next()).done){e.next=15;break}if(s=i.value,!(l=n.store.exchanges.exchangesMap.get(s.exchangeKey))){e.next=12;break}return e.next=12,n.createAccount(l,s.name,s.cctxOption);case 12:a=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),r=!0,c=e.t0;case 21:e.prev=21,e.prev=22,a||null==o.return||o.return();case 24:if(e.prev=24,!r){e.next=27;break}throw c;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}}),e,null,[[4,17,21,29],[22,,24,28]])}))),n.lsLatestAccountKey=function(e){return"".concat(e.exchange)},n.lsLatestAccountSet=function(e){var t=n.lsAccounts.lsGet("LatestAccountMap",{}),a=n.lsLatestAccountKey(e.exchange),r={accountName:e.name,exchangeName:e.exchange.exchange};t[a]=r,n.lsAccounts.lsSet("LatestAccountMap",t)},n.lsLatestAccountGetFromExchange=function(e){var t=n.lsAccounts.lsGet("LatestAccountMap",{})[n.lsLatestAccountKey(e)];return t?n.accountsMap.get(t.accountName):null},n.createAccountsFromLs(),n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"createAccount",value:function(){var e=Object(O.a)(f.a.mark((function e(t,a,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.accountsMap.get(a)){e.next=4;break}console.warn("\u5df2\u7ecf\u5b58\u5728\u6b64\u8d26\u6237\uff0c\u4e0d\u80fd\u91cd\u590d\u6dfb\u52a0",a),e.next=11;break;case 4:return(r=new ke(this.store,this)).name=a,r.createCCXTOption=Object.assign(r.createCCXTOption,n),e.next=9,r.createCCXTIns(t);case 9:return this.accountsMap.set(a,r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"createAccountAndSaveLs",value:function(){var e=Object(O.a)(f.a.mark((function e(t,a,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createAccount(t,a,n);case 2:(r=e.sent)&&this.lsAccountsAdd(t.exchange,r,n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"all",get:function(){return Array.from(this.accountsMap.values())}}]),t}(N),Object(A.a)(be.prototype,"all",[x.computed],Object.getOwnPropertyDescriptor(be.prototype,"all"),be.prototype),Object(A.a)(be.prototype,"createAccount",[x.action],Object.getOwnPropertyDescriptor(be.prototype,"createAccount"),be.prototype),Object(A.a)(be.prototype,"createAccountAndSaveLs",[x.action],Object.getOwnPropertyDescriptor(be.prototype,"createAccountAndSaveLs"),be.prototype),be);window.patch_bigone3(),window.patch_basefex();var xe=function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(y.a)(this,Object(j.a)(t).call(this,null,null))).name="root store",e.config=void 0,e.exchanges=void 0,e.accounts=void 0,e.uiStates=void 0,e.config=new I(Object(g.a)(e),Object(g.a)(e)),e.exchanges=new ve(Object(g.a)(e),Object(g.a)(e)),e.accounts=new Ee(Object(g.a)(e),Object(g.a)(e)),e.uiStates=new ye(Object(g.a)(e),Object(g.a)(e)),e}return Object(k.a)(t,e),t}(w),we=p.a.createContext(null);function Ce(){return Object(u.useContext)(we)}window.mobx=x;var Ae=a(84),Se=a(64),Te=(a(226),a(14)),Ie=(a(458),a(75)),Me=(a(229),a(94)),Ne=Me.a.Header,Re=Me.a.Footer,ze=Me.a.Content,Pe=function(e){return p.a.createElement(Me.a,null,p.a.createElement(Be,null),p.a.createElement(ze,{style:{minHeight:"90vh"}},e.children),p.a.createElement(Re,null,"Footer"))},Be=Object(Te.b)((function(){var e=Ce().uiStates,t=Object(Se.g)();return p.a.createElement(Ne,{className:"appHeader"},p.a.createElement(Ie.a,{theme:"light",mode:"horizontal",defaultSelectedKeys:["exchanges"],style:{lineHeight:"64px"}},p.a.createElement(Ie.a.Item,{key:"exchanges",onClick:function(){t.push("/")}},"Exchanges"),p.a.createElement(Ie.a.Item,{key:"exchange",onClick:function(){var a=e.exchange?e.exchange.exchange:"";t.push("/exchange/".concat(a))}},"Exchange")))})),Le=(a(170),a(5)),De=(a(71),a(32)),Ke=(a(457),a(200)),Ge=a(461),Ue=a(460),Xe=a(203);function Fe(e){var t=e.columns.map((function(e){if(e.title=e.title||z.a.capitalize(e.dataIndex),e.key=e.key||e.dataIndex,e.width=e.width||200,e.render){var t=e.render;e.render=function(a,n,r){return p.a.createElement(He,{r:function(){var a=n[e.dataIndex];return t(a,n,r)}})}}else e.render=function(t,a){return p.a.createElement(He,{r:function(){return a[e.dataIndex]}})};return e}));return p.a.createElement(Ke.a,Object.assign({},e,{columns:t}))}function He(e){return p.a.createElement(Te.a,{render:e.r})}Object(Te.b)((function(e){var t=e.val,a=e.market,n=8;"USDT"===a.quote&&(n=2);var r=z.a.ceil(t,n);return p.a.createElement("span",null,r," ",a.quote)}));var qe=Object(Te.b)((function(e){var t=e.val,a=e.len,n=void 0===a?4:a,r=z.a.ceil(100*t,n);return p.a.createElement("span",null,r," %")})),Ze=function(e){var t=e.val,a="yyyy-MM-dd HH:mm:ss";return Object(Ge.a)(t)&&(a="HH:mm:ss"),Object(Ue.a)(t,a)},Ve=function(e){return p.a.createElement(De.a,{type:"primary",shape:"circle",icon:"sync",onClick:e.onClick,loading:e.loading})},We=Object(Te.b)((function(e){var t=e.time;return z.a.isDate(e.time)?p.a.createElement(Xe.a,{datetime:e.time,locale:"en_US"}):t})),_e=Object(Te.b)((function(e){var t=e.tick,a=p.a.createElement(Le.a,{type:"arrow-up"});switch(t){case l.plusTick:a=p.a.createElement(Le.a,{type:"arrow-up"});break;case l.zeroPlusTick:a=p.a.createElement(Le.a,{type:"caret-up"});break;case l.minusTick:a=p.a.createElement(Le.a,{type:"arrow-down"});break;case l.zeroMinusTick:a=p.a.createElement(Le.a,{type:"caret-down"})}return p.a.createElement("div",{className:"icon ".concat(t)},a)})),Je=Object(Te.b)((function(e){var t=e.fixed,a=e.num,n=function(e){if(e.indexOf(".")>0){return[e,""]}return[e]}(accounting.toFixed(a,t)),r=Object(h.a)(n,2),c=r[0],o=r[1],i=void 0===o?"":o;return p.a.createElement("span",{className:"Nf"},c,p.a.createElement("span",{className:"invalidSection"},i))})),$e=Object(Te.b)((function(e){var t=e.val,a=e.spec,n=e.withUnit,r=void 0!==n&&n,c=a.precision.base||a.precision.amount,o=a.quote;return p.a.createElement("span",null,p.a.createElement(Je,{num:t,fixed:c})," ",r&&o)})),Qe=Object(Te.b)((function(e){var t=e.val,a=e.spec,n=e.withUnit,r=void 0!==n&&n,c=a.precision.quote||a.precision.price,o=a.quote;return p.a.createElement("span",null,p.a.createElement(Je,{num:t,fixed:c})," ",r&&o)})),Ye=(a(372),a(373),a(204)),et=(a(377),a(2)),tt=a.n(et),at=Object(Te.b)((function(e){var t=e.updatableRes,a=e.noContentPadding,n=void 0===a||a,r=e.updateImmediately,c=void 0===r||r,o=Object(u.useCallback)(Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.updateRes();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn("updatableRes failed",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),[t]);Object(u.useEffect)((function(){c&&o()}),[]);var i=z.a.omit(e,["updatableRes","noContentPadding","updateImmediately"]);return p.a.createElement(Ye.a,Object.assign({},i,{title:p.a.createElement("div",{className:"titleWithUpdateTime"},p.a.createElement("div",null,e.title),p.a.createElement("div",{className:"updateTime"},p.a.createElement(We,{time:t.lastUpdateTime}))),className:tt()("UpdatableCard",{noContentPadding:n},i.className),size:"small",extra:p.a.createElement("div",null,p.a.createElement(Ve,{onClick:function(){o()},loading:t.loading}))}),i.children)})),nt=Object(Te.b)((function(e){var t=Ce().exchanges,a=t.all;return p.a.createElement("div",{className:"Exchanges",style:{padding:24}},p.a.createElement(at,{title:p.a.createElement("div",null,"Exchanges"),updatableRes:t},p.a.createElement(Fe,{size:"small",dataSource:a,rowKey:"exchange",columns:[{title:"Id",dataIndex:"exchange",render:function(e,t){return p.a.createElement("div",null,p.a.createElement(Ae.b,{to:"/exchange/".concat(t.exchange)},e))}}]})))})),rt=Object(Te.b)((function(){return p.a.createElement(Pe,null,p.a.createElement(nt,null))})),ct=(a(139),a(66)),ot=(a(382),a(184),a(58)),it=(a(185),a(39)),st=(a(383),a(384),a(62)),lt=a.n(st),ut=Object(Te.b)((function(e){var t=e.market,a=t.recentTrades,n=a.trades;return p.a.createElement(at,{title:"Recent Trades",className:"RecentTrades",updatableRes:a},p.a.createElement(lt.a,{style:{height:600},autoHide:!0},p.a.createElement("div",{className:"TradeHistoryContainer"},n.map((function(e){return p.a.createElement(pt,{key:e.id,trade:e,market:t})})))))})),pt=Object(Te.b)((function(e){var t=e.trade,a=e.market;return p.a.createElement("div",{className:"TradeHistoryContainer_item"},p.a.createElement("div",{className:"volume"},p.a.createElement($e,{val:t.amount,spec:a.spec})),p.a.createElement("div",{className:"price ".concat(t.side)},p.a.createElement(_e,{tick:t.tick}),p.a.createElement(Qe,{val:t.price,spec:a.spec})),p.a.createElement("div",{className:"time"},p.a.createElement(Ze,{val:t.timestamp})))})),bt=(a(398),Object(Te.b)((function(e){var t=e.market,a=t.orderBook,n=Object(Te.c)((function(){return{showNum:14,side:s.both,get asks(){return(n.side===s.both?z.a.take(a.asks,n.showNum):a.asks).reverse()},get bids(){return n.side===s.both?z.a.take(a.bids,n.showNum):a.bids},setSide:function(e){n.side=e}}})),r=n.asks,c=n.bids,o=function(e,a){return p.a.createElement("div",{className:a},e.map((function(e,a){return p.a.createElement(mt,{key:a,item:e,market:t})})))};return p.a.createElement(at,{title:"OrderBook",className:"OrderBook",updatableRes:a},p.a.createElement(lt.a,{style:{height:600},autoHide:!0},p.a.createElement("div",{className:"OrderBookContainer"},p.a.createElement("div",{className:"OrderBookInnerHeader"},p.a.createElement("div",{className:"sideBtns"},p.a.createElement(De.a,{size:"small",icon:"vertical-align-middle",onClick:function(){return n.setSide(s.both)}}),p.a.createElement(De.a,{size:"small",icon:"vertical-align-top",onClick:function(){return n.setSide(s.buy)}}),p.a.createElement(De.a,{size:"small",icon:"vertical-align-bottom",onClick:function(){return n.setSide(s.sell)}}))),p.a.createElement("div",{className:"centeredContent"},n.side===s.both?p.a.createElement(p.a.Fragment,null,o(r,"asks"),p.a.createElement("div",{className:"MarketPrice"},p.a.createElement(dt,{market:t})),o(c,"bids")):p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"MarketPrice"},p.a.createElement(dt,{market:t})),n.side===s.buy&&o(r,"asks"),n.side===s.sell&&o(r,"bids"))))))}))),mt=Object(Te.b)((function(e){var t=e.item,a=e.market;return p.a.createElement("div",{className:"OrderBookItem"},p.a.createElement("div",{className:"price"},p.a.createElement(Qe,{val:t.price,spec:a.spec})),p.a.createElement("div",{className:"size"},p.a.createElement($e,{val:t.size,spec:a.spec})),p.a.createElement("div",{className:"accumulateSize"},p.a.createElement($e,{val:t.accumulateSize,spec:a.spec})))})),dt=Object(Te.b)((function(e){var t=e.market;return p.a.createElement("div",null," ",p.a.createElement(Qe,{val:t.lastPrice,spec:t.spec}))})),ft=(a(109),a(46)),Ot=(a(399),ft.a.TabPane),ht=Object(Te.b)((function(e){var t=e.exchange,a=Ce().uiStates,n=Object(Te.c)((function(){return{get quotes(){var e=new Set;return t.allMarkets.forEach((function(t){e.add(t.spec.quote)})),Array.from(e)}}}));return p.a.createElement(at,{title:"Markets",className:"Markets",updatableRes:t,updateImmediately:!1},p.a.createElement(ft.a,{defaultActiveKey:"1",onChange:function(){}},function(){var e=a.account;if(e){var t=e.balances.balancesNotZero,n=e.exchange.allMarkets,r=(Array.from(new Set(n.map((function(e){return e.spec.quote})))),t.map((function(e){return e.base}))),c=n.filter((function(e){return r.includes(e.spec.quote)&&r.includes(e.spec.base)}));return p.a.createElement(Ot,{tab:p.a.createElement(Le.a,{type:"bank"}),key:e.name},p.a.createElement(vt,{markets:c}))}return null}(),n.quotes.map((function(e){var a=t.allMarkets.filter((function(t){return t.spec.active&&t.spec.quote===e}));return p.a.createElement(Ot,{tab:e,key:e},p.a.createElement(vt,{markets:a}))}))))})),vt=Object(Te.b)((function(e){var t=e.markets,a=Ce().uiStates;return p.a.createElement(lt.a,{style:{height:550},autoHide:!0},p.a.createElement("div",{className:"MarketsList"},t.map((function(e){return p.a.createElement("div",{key:e.spec.symbol,className:"MarketsListItem",onClick:function(){a.market=e}},p.a.createElement("div",{className:"exchangeName"},e.spec.symbol),p.a.createElement("div",{className:"latestPrice"},e.lastTicker&&p.a.createElement(Qe,{val:e.lastTicker.close,spec:e.spec})))}))))})),yt=(a(400),ft.a.TabPane),jt=Object(Te.b)((function(e){var t=e.account,a=e.market,n=t.safeGetAccountOrder(a),r=Object(Te.c)((function(){return{activeTab:"active"}}));if(!n)return null;var c=function(e){return p.a.createElement(Fe,{size:"small",dataSource:e,rowKey:"id",columns:[{dataIndex:"symbol",render:function(e,t){var a=t===n.latestClosedOrder;return p.a.createElement("span",null,e,!a&&p.a.createElement(De.a,{size:"small",onClick:function(){n.setLatestClosedOrder(t)}},"latest order"))}},{dataIndex:"timestamp",render:function(e){return p.a.createElement(Ze,{val:e})}},{dataIndex:"side"},{dataIndex:"type"},{dataIndex:"status"},{dataIndex:"amount"},{dataIndex:"cost"},{dataIndex:"price"},{dataIndex:"filled"},{dataIndex:"remaining"}]})};return p.a.createElement(at,{title:p.a.createElement("div",null,"Orders ",p.a.createElement(He,{r:function(){return a.spec.symbol}})),className:"UserOrders",updatableRes:n},p.a.createElement("div",{className:"UserOrdersContainer"},p.a.createElement(ft.a,{defaultActiveKey:"all",onChange:function(e){r.activeTab=e}},p.a.createElement(yt,{tab:"Active",key:"active"},c(n.activeOrders)),p.a.createElement(yt,{tab:"All",key:"all"},c(n.all)))))})),gt=(a(401),a(201)),kt=(a(403),a(122)),Et=(a(405),a(87)),xt=(a(407),a(205)),wt=(a(409),a(410),a(202)),Ct=(a(412),a(123)),At=(a(414),Object(Te.b)((function(e){var t=e.market,a=e.account,n=a.balances,r=n.map.get(t.spec.base);if(!n||!r)return null;var c=a.safeGetAccountOrder(t),o=a.computeProfitAndRate(t),i=o.profit,s=o.rate;return p.a.createElement(at,{title:p.a.createElement("div",null,a.name,"-",p.a.createElement(He,{r:function(){return t.spec.symbol}})),className:"BalanceCard",updatableRes:t},p.a.createElement(lt.a,{style:{height:400},autoHide:!0},p.a.createElement("div",{className:"BalanceCardContainer"},p.a.createElement(St,{balance:r}),p.a.createElement("div",{className:"ProfitSection"},p.a.createElement("h3",null,"Profit"),p.a.createElement("div",null,p.a.createElement(Qe,{val:i,spec:t.spec,withUnit:!0}),"/"," ",p.a.createElement(qe,{val:s})),p.a.createElement("div",{className:"profitRow2"},p.a.createElement("div",null,p.a.createElement(Ct.a,{color:"red",text:"Cost"}),p.a.createElement(Qe,{val:a.computeOutMoneyByHistory(c.all),spec:t.spec,withUnit:!0})),p.a.createElement("div",null,p.a.createElement(Ct.a,{color:"green",text:"Current Value"}),p.a.createElement(Qe,{val:a.computeCurrentValue(t),spec:t.spec,withUnit:!0})))))))}))),St=Object(Te.b)((function(e){var t=e.balance,a=t.used/t.total*100,n=t.free/t.total*100,r=function(e,a,n,r){return p.a.createElement("div",{className:"BalanceItemRow"},p.a.createElement(wt.a,{percent:a,size:"small",showInfo:!1}),p.a.createElement("div",{className:"BalanceItemRowDown"},p.a.createElement(Ct.a,{status:"success",text:n}),p.a.createElement("div",{className:"BalanceItemRowText"},t.total)))};return p.a.createElement("div",{className:"BalanceItem"},r(0,100,"Total",t.total),r(0,n,"Free",t.free),r(0,a,"Used",t.used))})),Tt=ft.a.TabPane,It=Object(Te.b)((function(e){var t=e.exchange,a=Ce().uiStates;return p.a.createElement(ft.a,{defaultActiveKey:"1",onChange:function(){}},p.a.createElement(Tt,{tab:"Accounts",key:"1"},p.a.createElement(Mt,{exchange:t})),p.a.createElement(Tt,{tab:"Balance",key:"2"},a.market&&a.account&&p.a.createElement(At,{account:a.account,market:a.market})))})),Mt=Object(Te.b)((function(e){var t=e.exchange,a=Ce(),n=a.accounts,r=a.uiStates,c=Object(u.useRef)(null),o=Object(Te.c)((function(){return{visible:!1,addAccount:function(e,a){n.createAccountAndSaveLs(t,e,a).then((function(){console.log("\u6dfb\u52a0\u6210\u529f"),o.visible=!1}))},handleCreate:function(){c.current.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),o.addAccount(t.name,{apiKey:t.apiKey,secret:t.secret}))}))},activeAccount:function(e){r.account=e,n.lsLatestAccountSet(e)}}}));Object(u.useEffect)((function(){var e=n.lsLatestAccountGetFromExchange(t);e&&o.activeAccount(e)}),[]);var i=n.all.filter((function(e){return e.exchange===t}));return p.a.createElement(at,{title:p.a.createElement("div",null,"Accounts in:",t.exchange),updatableRes:n},p.a.createElement("div",{style:{padding:12}},p.a.createElement(De.a,{type:"primary",onClick:function(){o.visible=!0}},"add")),p.a.createElement(Nt,{wrappedComponentRef:c,visible:o.visible,onCancel:function(){o.visible=!1},onCreate:function(){o.handleCreate()}}),p.a.createElement(Fe,{size:"small",dataSource:i,rowKey:function(e){return e.name},columns:[{dataIndex:"name",render:function(e,t){return p.a.createElement(xt.a,{color:"gold",onClick:function(){o.activeAccount(t)}},t.name)}},{dataIndex:"action",render:function(e,t){return p.a.createElement("div",null,p.a.createElement(De.a,{type:"danger",size:"small",onClick:function(){n.lsAccountsRemove(t.name)}},"delete"))}}]}),r.account&&p.a.createElement(zt,{key:r.account.name,account:r.account}))})),Nt=Et.a.create({name:"AccountCreateForm"})(function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props;e.visible,e.onCancel,e.onCreate,e.form.getFieldDecorator;return p.a.createElement(Rt,this.props)}}]),t}(p.a.Component));function Rt(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form.getFieldDecorator;return p.a.createElement(gt.a,{visible:t,title:"Create An Account",okText:"Create",onCancel:a,onOk:n},p.a.createElement(Et.a,{layout:"vertical"},p.a.createElement(Et.a.Item,{label:"name"},r("name",{rules:[{required:!0}]})(p.a.createElement(kt.a,null))),p.a.createElement(Et.a.Item,{label:"apiKey"},r("apiKey",{rules:[{required:!0}]})(p.a.createElement(kt.a,null))),p.a.createElement(Et.a.Item,{label:"secret"},r("secret",{rules:[{required:!0}]})(p.a.createElement(kt.a,null)))))}var zt=Object(Te.b)((function(e){var t=e.account,a=(Ce().uiStates,t.balances.balancesNotZero);return p.a.createElement("div",{className:"UserAsset"},p.a.createElement(at,{title:p.a.createElement("div",null,"Balances"),updatableRes:t.balances},p.a.createElement(Fe,{size:"small",dataSource:a,rowKey:"base",columns:[{dataIndex:"base",render:function(e,a){var n=a.base;t.exchange.getMarketsByCoinSymbol(n).every((function(e){return e.loading}));return p.a.createElement("div",null,a.base," ")}},{dataIndex:"total"}]})))})),Pt=Object(Te.b)((function(e){var t=e.exchange,a=Ce().uiStates;return p.a.createElement("div",{className:"TradeMainView"},p.a.createElement(ot.a,null,p.a.createElement(it.a,{md:6,sm:12,xs:24},p.a.createElement(ht,{exchange:t})),a.market&&p.a.createElement(p.a.Fragment,null,p.a.createElement(it.a,{md:6,sm:12,xs:24},p.a.createElement(bt,{key:a.market.spec.symbol,market:a.market})),p.a.createElement(it.a,{md:6,sm:12,xs:24},p.a.createElement(ut,{key:a.market.spec.symbol,market:a.market}))),p.a.createElement(it.a,{md:6,sm:12,xs:24},p.a.createElement(It,{exchange:t}))),p.a.createElement(ot.a,null,p.a.createElement(it.a,{span:24},p.a.createElement("div",{style:{maxWidth:"100%",overflowX:"scroll"}},p.a.createElement("div",{style:{minWidth:900}},a.market&&a.account&&p.a.createElement(jt,{key:a.market.spec.symbol+a.account.name,account:a.account,market:a.market}))))))})),Bt=Object(Te.b)((function(e){var t=e.exchange;Ce().uiStates,t.allMarkets;return p.a.createElement(at,{title:p.a.createElement("div",null,"Exchange - ",t.exchange),updatableRes:t},p.a.createElement(Pt,{exchange:t}))})),Lt=Object(Te.b)((function(){var e=Ce(),t=e.exchanges,a=e.uiStates,n=Object(Se.h)().exchangeKey,r=t.exchangesMap.get(n);return r&&a.changeExchange(r),p.a.createElement(Pe,null,r?p.a.createElement(Bt,{key:r.exchange,exchange:r}):p.a.createElement(ct.a,null))}));function Dt(){return p.a.createElement(Ae.a,null,p.a.createElement("div",null,p.a.createElement(Se.d,null,p.a.createElement(Se.b,{exact:!0,path:"/"},p.a.createElement(rt,null)),p.a.createElement(Se.b,{path:"/exchange/:exchangeKey"},p.a.createElement(Lt,null)),p.a.createElement(Se.a,{from:"/exchange",to:"/exchange/none"}))))}var Kt=window.store=window.ss=new xe,Gt=function(){var e=Object(u.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(u.useEffect)((function(){(function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.exchanges.initExchanges();case 2:n(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),p.a.createElement("div",{className:"App"},p.a.createElement(we.Provider,{value:Kt},a&&p.a.createElement(Dt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(p.a.createElement(Gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[208,1,2]]]);
//# sourceMappingURL=main.ae31b822.chunk.js.map