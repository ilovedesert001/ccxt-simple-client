(this["webpackJsonpccxt-simple-client"]=this["webpackJsonpccxt-simple-client"]||[]).push([[0],{209:function(e,t,a){e.exports=a(457)},214:function(e,t,a){},216:function(e,t,a){},227:function(e,t,a){},372:function(e,t,a){},377:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},385:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},410:function(e,t,a){},415:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);var n,r,c,o,i,s,l,u=a(0),p=a.n(u),b=a(6),m=a.n(b),d=(a(214),a(14)),f=a.n(d),h=a(26),v=a(120),O=(a(216),a(19)),y=a(22),j=a(17),g=a(13),k=a(23),x=a(27),E=a(4),w=function(){function e(t,a,n){Object(O.a)(this,e),this.store=void 0,this.parent=void 0,this.store=t,t||(this.store=this),this.parent=a,this.applySnapShot(n)}return Object(x.a)(e,[{key:"getSnapShoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,a=Object.assign({},t);return e.getStoreSnapShoot(a)}},{key:"toJSON",value:function(){var e=Object.assign({},this);return delete e.store,delete e.parent,e}},{key:"applySnapShot",value:function(e){}}],[{key:"getStoreSnapShoot",value:function(t){delete t.store,delete t.parent;for(var a=0,n=Object.keys(t);a<n.length;a++){var r=n[a];if(t.hasOwnProperty(r)){var c=t[r];c instanceof e?t[r]=c.getSnapShoot():Array.isArray(c)||Object(E.isObservableArray)(c)?(c=c.map((function(t){return t instanceof e&&(t=t.getSnapShoot()),t})),t[r]=c):c instanceof Map||Object(E.isObservableMap)(c)?function(){var a={};c.forEach((function(t,n){a[n]=t,t instanceof e&&(a[n]=t.getSnapShoot())})),t[r]=a}():"object"===typeof c&&(t[r]=e.getStoreSnapShoot(c))}}return t}}]),e}(),C=a(25),S=a(9),T=(a(56),function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),t}(w)),A=a(189),I=(n=function(e){function t(e,a){var n;return Object(O.a)(this,t),n=Object(y.a)(this,Object(j.a)(t).call(this,e,a)),Object(C.a)(n,"version",r,Object(g.a)(n)),n.ls=void 0,n.ls=A,n}return Object(k.a)(t,e),t}(T),r=Object(S.a)(n.prototype,"version",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),n),M=a(55),R=(c=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"loading",o,Object(g.a)(a)),Object(C.a)(a,"lastUpdateTime",i,Object(g.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"loadingStart",value:function(){this.loading=!0}},{key:"loadingEnd",value:function(){this.loading=!1,this.lastUpdateTime=new Date}},{key:"updateRes",value:function(){console.warn("need to be implemented")}}]),t}(T),o=Object(S.a)(c.prototype,"loading",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(S.a)(c.prototype,"lastUpdateTime",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),c);!function(e){e.buy="buy",e.sell="sell",e.both="both"}(s||(s={})),function(e){e.plusTick="plusTick",e.zeroPlusTick="ZeroPlusTick",e.minusTick="minusTick",e.zeroMinusTick="ZeroMinusTick"}(l||(l={}));var P=a(29),N=a.n(P);function z(e,t){if(!(e.length<2))for(var a=e.length-1,n=0;n<a;n++){t(e[n],e[n+1])}}var B,D,K,F,U,X,H,q,G,V,W,L,Z,J,_,$,Q,Y,ee,te,ae,ne,re,ce,oe,ie,se,le,ue,pe,be=function e(t,a){var n=this;Object(O.a)(this,e),this.rootKey=void 0,this.ls=void 0,this.lsGet=function(e,t){var a=n.ls.get(n.rootKey,{})[e];return void 0===a&&(a=t),a},this.lsSet=function(e,t){var a=n.ls.get(n.rootKey,{});a[e]=t,n.ls.set(n.rootKey,a)},this.lsRemove=function(e){var t=n.ls.get(n.rootKey,{});delete t[e],n.ls.set(n.rootKey,t)},this.rootKey=a,this.ls=t},me=(B=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"trades",D,Object(g.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"updateRes",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),t=this.market,e.next=4,this.ccxtIns.fetchTrades(t.spec.symbol);case 4:a=e.sent,Object(E.runInAction)((function(){a=N.a.orderBy(a,"timestamp",["desc"]),z(N.a.reverse(a),(function(e,t){var a=l.zeroMinusTick;t.price>e.price?a=l.plusTick:t.price<e.price?a=l.minusTick:t.price===e.price&&(a=e.tick===l.plusTick||e.tick===l.zeroPlusTick?l.zeroPlusTick:l.zeroMinusTick),t.tick=a})),n.trades=N.a.orderBy(a,"timestamp",["desc"])})),this.loadingEnd();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"market",get:function(){return this.parent}},{key:"ccxtIns",get:function(){return this.parent.parent.ccxtIns}}]),t}(R),D=Object(S.a)(B.prototype,"trades",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(B.prototype,"updateRes",[E.action],Object.getOwnPropertyDescriptor(B.prototype,"updateRes"),B.prototype),B),de=(K=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"asks",F,Object(g.a)(a)),Object(C.a)(a,"bids",U,Object(g.a)(a)),a.transferToOrderBookRes=function(e){return{price:e[0],size:e[1],accumulateSize:e[1]}},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"updateRes",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),t=this.market,e.next=4,this.ccxtIns.fetchOrderBook(t.spec.symbol).then((function(e){a.bids=e.bids.map(a.transferToOrderBookRes),a.asks=e.asks.map(a.transferToOrderBookRes)}));case 4:this.loadingEnd();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"market",get:function(){return this.parent}},{key:"ccxtIns",get:function(){return this.parent.parent.ccxtIns}}]),t}(R),F=Object(S.a)(K.prototype,"asks",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=Object(S.a)(K.prototype,"bids",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(K.prototype,"updateRes",[E.action],Object.getOwnPropertyDescriptor(K.prototype,"updateRes"),K.prototype),K),fe=(X=function(e){function t(e,a,n){var r;return Object(O.a)(this,t),r=Object(y.a)(this,Object(j.a)(t).call(this,e,a)),Object(C.a)(r,"recentTrades",H,Object(g.a)(r)),Object(C.a)(r,"orderBook",q,Object(g.a)(r)),Object(C.a)(r,"spec",G,Object(g.a)(r)),Object(C.a)(r,"lastTicker",V,Object(g.a)(r)),r.spec=n,r.recentTrades=new me(e,Object(g.a)(r)),r.orderBook=new de(e,Object(g.a)(r)),r}return Object(k.a)(t,e),Object(x.a)(t,[{key:"updateRes",value:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.recentTrades.updateRes();case 3:return e.next=5,this.orderBook.updateRes();case 5:this.loadingEnd();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lastTrade",get:function(){return this.recentTrades.trades[0]}},{key:"lastPrice",get:function(){return this.lastTrade?this.lastTrade.price:0}}]),t}(R),H=Object(S.a)(X.prototype,"recentTrades",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=Object(S.a)(X.prototype,"orderBook",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=Object(S.a)(X.prototype,"spec",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Object(S.a)(X.prototype,"lastTicker",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(X.prototype,"updateRes",[E.action],Object.getOwnPropertyDescriptor(X.prototype,"updateRes"),X.prototype),Object(S.a)(X.prototype,"lastTrade",[E.computed],Object.getOwnPropertyDescriptor(X.prototype,"lastTrade"),X.prototype),Object(S.a)(X.prototype,"lastPrice",[E.computed],Object.getOwnPropertyDescriptor(X.prototype,"lastPrice"),X.prototype),X),he=(W=function(e){function t(e,a){var n;return Object(O.a)(this,t),(n=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).marketsMap=E.observable.map({},{name:"marketsMap"}),Object(C.a)(n,"ccxtIns",L,Object(g.a)(n)),Object(C.a)(n,"exchange",Z,Object(g.a)(n)),Object(C.a)(n,"createCCXTOption",J,Object(g.a)(n)),Object(C.a)(n,"fetchedMarkets",_,Object(g.a)(n)),window.bigone=Object(g.a)(n),n}return Object(k.a)(t,e),Object(x.a)(t,[{key:"updateRes",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loadingStart(),this.fetchedMarkets){e.next=7;break}return e.next=4,this.ccxtIns.fetchMarkets();case 4:t=e.sent,this.fetchedMarkets=!0,Object(E.runInAction)((function(){t.forEach((function(e){var t=new fe(n.store,n,e);n.marketsMap.set(e.symbol,t)}))}));case 7:return e.next=9,this.ccxtIns.fetchTickers();case 9:a=e.sent,Object(E.runInAction)((function(){N.a.each(a,(function(e){var t=n.marketsMap.get(e.symbol);t&&(t.lastTicker=e)}))})),this.loadingEnd();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMarketsByCoinSymbol",value:function(e){return this.allMarkets.filter((function(t){return t.spec.base===e}))}},{key:"getMarketsByCoinSymbolFilterActive",value:function(e){return this.allMarkets.filter((function(t){return t.spec.base===e}))}},{key:"createCCXTIns",value:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new window.ccxt[this.exchange](this.createCCXTOption);case 2:this.ccxtIns=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSnapShoot",value:function(){var e=Object(M.a)(Object(j.a)(t.prototype),"getSnapShoot",this).call(this);return delete e.ccxtIns,e}},{key:"allMarkets",get:function(){return Array.from(this.marketsMap.values())}}]),t}(R),L=Object(S.a)(W.prototype,"ccxtIns",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=Object(S.a)(W.prototype,"exchange",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"bigone3"}}),J=Object(S.a)(W.prototype,"createCCXTOption",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{urls:{api:{private:"https://b1.run/api/v3/viewer",public:"https://b1.run/api/v3"}}}}}),_=Object(S.a)(W.prototype,"fetchedMarkets",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(S.a)(W.prototype,"updateRes",[E.action],Object.getOwnPropertyDescriptor(W.prototype,"updateRes"),W.prototype),Object(S.a)(W.prototype,"createCCXTIns",[E.action],Object.getOwnPropertyDescriptor(W.prototype,"createCCXTIns"),W.prototype),Object(S.a)(W.prototype,"allMarkets",[E.computed],Object.getOwnPropertyDescriptor(W.prototype,"allMarkets"),W.prototype),W),ve=($=function(e){function t(e,a){var n;Object(O.a)(this,t),(n=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).exchangesMap=E.observable.map({},{name:"exchangesMap"});var r=new he(n.store,Object(g.a)(n));n.exchangesMap.set(r.exchange,r);return N.a.each(["bittrex","basefex","bitmex","coss","bibox","huobipro","okex3","poloniex","coinbasepro"],(function(e){var t=new he(n.store,Object(g.a)(n));t.exchange=e,t.createCCXTOption={},n.exchangesMap.set(e,t)})),n}return Object(k.a)(t,e),Object(x.a)(t,[{key:"initExchanges",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,a,n,r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,a=!1,n=void 0,e.prev=3,r=this.all[Symbol.iterator]();case 5:if(t=(c=r.next()).done){e.next=12;break}return o=c.value,e.next=9,o.createCCXTIns();case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),a=!0,n=e.t0;case 18:e.prev=18,e.prev=19,t||null==r.return||r.return();case 21:if(e.prev=21,!a){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"all",get:function(){return Array.from(this.exchangesMap.values())}}]),t}(R),Object(S.a)($.prototype,"all",[E.computed],Object.getOwnPropertyDescriptor($.prototype,"all"),$.prototype),Object(S.a)($.prototype,"initExchanges",[E.action],Object.getOwnPropertyDescriptor($.prototype,"initExchanges"),$.prototype),$),Oe=(Q=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r))),Object(C.a)(a,"exchange",Y,Object(g.a)(a)),Object(C.a)(a,"market",ee,Object(g.a)(a)),Object(C.a)(a,"account",te,Object(g.a)(a)),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"changeExchange",value:function(e){this.exchange=e,this.market=null,this.account=null}}]),t}(T),Y=Object(S.a)(Q.prototype,"exchange",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=Object(S.a)(Q.prototype,"market",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=Object(S.a)(Q.prototype,"account",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(Q.prototype,"changeExchange",[E.action],Object.getOwnPropertyDescriptor(Q.prototype,"changeExchange"),Q.prototype),Q),ye=(ae=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).map=E.observable.map({},{name:"balance"}),a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"updateRes",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),e.next=3,this.ccxtIns.fetchBalance();case 3:t=e.sent,N.a.each(t,(function(e,t){e.base=t})),delete t.info,this.map.merge(t),this.loadingEnd();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ccxtIns",get:function(){return this.parent.ccxtIns}},{key:"balancesAll",get:function(){var e=Array.from(this.map.values());return e=N.a.orderBy(e,["total"],["desc"])}},{key:"balancesNotZero",get:function(){return this.balancesAll.filter((function(e){return e.total>1e-4}))}}]),t}(R),Object(S.a)(ae.prototype,"updateRes",[E.action],Object.getOwnPropertyDescriptor(ae.prototype,"updateRes"),ae.prototype),Object(S.a)(ae.prototype,"balancesAll",[E.computed],Object.getOwnPropertyDescriptor(ae.prototype,"balancesAll"),ae.prototype),Object(S.a)(ae.prototype,"balancesNotZero",[E.computed],Object.getOwnPropertyDescriptor(ae.prototype,"balancesNotZero"),ae.prototype),ae),je=(ne=function(e){function t(e,a,n){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).map=E.observable.map({},{name:"orderMap"}),Object(C.a)(r,"market",re,Object(g.a)(r)),r.market=n,r}return Object(k.a)(t,e),Object(x.a)(t,[{key:"updateRes",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingStart(),t=this.market,a=t.spec.symbol,e.next=5,this.ccxtIns.fetchOrders(a);case 5:n=e.sent,n=N.a.orderBy(n,"timestamp",["desc"]),r=N.a.keyBy(n,"id"),this.map.merge(r),this.loadingEnd();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ccxtIns",get:function(){return this.parent.ccxtIns}},{key:"all",get:function(){var e=Array.from(this.map.values());return e=N.a.orderBy(e,["timestamp"],["desc"])}},{key:"activeOrders",get:function(){return this.all.filter((function(e){return"open"===e.status}))}}]),t}(R),re=Object(S.a)(ne.prototype,"market",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(ne.prototype,"all",[E.computed],Object.getOwnPropertyDescriptor(ne.prototype,"all"),ne.prototype),Object(S.a)(ne.prototype,"activeOrders",[E.computed],Object.getOwnPropertyDescriptor(ne.prototype,"activeOrders"),ne.prototype),Object(S.a)(ne.prototype,"updateRes",[E.action],Object.getOwnPropertyDescriptor(ne.prototype,"updateRes"),ne.prototype),ne),ge=(ce=function(e){function t(e,a){var n;return Object(O.a)(this,t),n=Object(y.a)(this,Object(j.a)(t).call(this,e,a)),Object(C.a)(n,"ccxtIns",oe,Object(g.a)(n)),Object(C.a)(n,"name",ie,Object(g.a)(n)),Object(C.a)(n,"exchange",se,Object(g.a)(n)),Object(C.a)(n,"createCCXTOption",le,Object(g.a)(n)),Object(C.a)(n,"balances",ue,Object(g.a)(n)),n.accountOrdersMap=E.observable.map({},{name:"accountOrdersMap"}),n.balances=new ye(e,Object(g.a)(n)),n}return Object(k.a)(t,e),Object(x.a)(t,[{key:"updateRes",value:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadingStart(),this.loadingEnd();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createCCXTIns",value:function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.exchange=t,a=Object.assign({},t.createCCXTOption,this.createCCXTOption),e.next=4,new window.ccxt[t.exchange](a);case 4:this.ccxtIns=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createOrUpdateOrdersByMarket",value:function(e){var t=e.spec.symbol,a=this.accountOrdersMap.get(t);return a||(a=new je(this.store,this,e),this.accountOrdersMap.set(t,a)),a}},{key:"safeGetAccountOrder",value:function(e){return this.createOrUpdateOrdersByMarket(e)}},{key:"computeOutMoneyByHistory",value:function(e){return e.filter((function(e){return e.filled>0})).reduce((function(e,t){var a=0;return a="limit"===t.type?t.price*t.amount:t.filled,"sell"===t.side&&(a*=-1),e+a}),0)}},{key:"computeCurrentValue",value:function(e){var t=e.lastPrice;return this.balances.map.get(e.spec.base).total*t}},{key:"computeProfitAndRate",value:function(e){var t=this.safeGetAccountOrder(e),a=this.computeOutMoneyByHistory(t.all),n=this.computeCurrentValue(e);return{profit:n-a,rate:(n-a)/a}}},{key:"getSnapShoot",value:function(){var e=Object(M.a)(Object(j.a)(t.prototype),"getSnapShoot",this).call(this);return delete e.ccxtIns,delete this.exchange,e}}]),t}(R),oe=Object(S.a)(ce.prototype,"ccxtIns",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=Object(S.a)(ce.prototype,"name",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"bigone3"}}),se=Object(S.a)(ce.prototype,"exchange",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=Object(S.a)(ce.prototype,"createCCXTOption",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(S.a)(ce.prototype,"updateRes",[E.action],Object.getOwnPropertyDescriptor(ce.prototype,"updateRes"),ce.prototype),Object(S.a)(ce.prototype,"createCCXTIns",[E.action],Object.getOwnPropertyDescriptor(ce.prototype,"createCCXTIns"),ce.prototype),ue=Object(S.a)(ce.prototype,"balances",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(S.a)(ce.prototype,"createOrUpdateOrdersByMarket",[E.action],Object.getOwnPropertyDescriptor(ce.prototype,"createOrUpdateOrdersByMarket"),ce.prototype),ce),ke=(pe=function(e){function t(e,a){var n;return Object(O.a)(this,t),(n=Object(y.a)(this,Object(j.a)(t).call(this,e,a))).accountsMap=E.observable.map({},{name:"accountsMap"}),n.lsAccounts=new be(n.store.config.ls,"accounts"),n.lsAccountsAdd=function(e,t,a){var r=n.lsAccounts.lsGet("list",[]);r.find((function(e){return e.name===t.name}))?console.warn("\u5df2\u7ecf\u5b58\u5728",e,t):r.push(Object.assign({},{exchangeKey:e,name:t.name,cctxOption:a})),n.lsAccounts.lsSet("list",r)},n.lsAccountsRemove=function(e){var t=n.lsAccounts.lsGet("list",[]);N.a.remove(t,(function(t){return t.name===e})),n.accountsMap.delete(e),n.lsAccounts.lsSet("list",t)},n.lsAccountsGetAllAccounts=function(){return n.lsAccounts.lsGet("list",[])},n.createAccountsFromLs=Object(h.a)(f.a.mark((function e(){var t,a,r,c,o,i,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.lsAccountsGetAllAccounts(),a=!0,r=!1,c=void 0,e.prev=4,o=t[Symbol.iterator]();case 6:if(a=(i=o.next()).done){e.next=15;break}if(s=i.value,!(l=n.store.exchanges.exchangesMap.get(s.exchangeKey))){e.next=12;break}return e.next=12,n.createAccount(l,s.name,s.cctxOption);case 12:a=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),r=!0,c=e.t0;case 21:e.prev=21,e.prev=22,a||null==o.return||o.return();case 24:if(e.prev=24,!r){e.next=27;break}throw c;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}}),e,null,[[4,17,21,29],[22,,24,28]])}))),n.createAccountsFromLs(),n}return Object(k.a)(t,e),Object(x.a)(t,[{key:"createAccount",value:function(){var e=Object(h.a)(f.a.mark((function e(t,a,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.accountsMap.get(a)){e.next=4;break}console.warn("\u5df2\u7ecf\u5b58\u5728\u6b64\u8d26\u6237\uff0c\u4e0d\u80fd\u91cd\u590d\u6dfb\u52a0",a),e.next=11;break;case 4:return(r=new ge(this.store,this)).name=a,r.createCCXTOption=Object.assign(r.createCCXTOption,n),e.next=9,r.createCCXTIns(t);case 9:return this.accountsMap.set(a,r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"createAccountAndSaveLs",value:function(){var e=Object(h.a)(f.a.mark((function e(t,a,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createAccount(t,a,n);case 2:(r=e.sent)&&this.lsAccountsAdd(t.exchange,r,n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"all",get:function(){return Array.from(this.accountsMap.values())}}]),t}(R),Object(S.a)(pe.prototype,"all",[E.computed],Object.getOwnPropertyDescriptor(pe.prototype,"all"),pe.prototype),Object(S.a)(pe.prototype,"createAccount",[E.action],Object.getOwnPropertyDescriptor(pe.prototype,"createAccount"),pe.prototype),Object(S.a)(pe.prototype,"createAccountAndSaveLs",[E.action],Object.getOwnPropertyDescriptor(pe.prototype,"createAccountAndSaveLs"),pe.prototype),pe);!function(){var e=window.ccxt,t=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).enhanced=!0,a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"fetchOrders",value:function(){var e=Object(h.a)(f.a.mark((function e(){var a,n,r,c,o,i,s,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=l.length,n=new Array(a),r=0;r<a;r++)n[r]=l[r];return c=n[0],o=n[1],i=n[2],s=n[3],e.abrupt("return",Promise.all([Object(M.a)(Object(j.a)(t.prototype),"fetchOrders",this).call(this,c,o,i,Object.assign({},{state:"PENDING"},s)),Object(M.a)(Object(j.a)(t.prototype),"fetchOrders",this).call(this,c,o,i,Object.assign({},{state:"CLOSED"},s))]).then((function(e){var t=Object(v.a)(e,2),a=(t[0],t[1],[]);return a.forEach((function(e){e.price?e.type="limit":e.type="market"})),a})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(e.bigone3);e.bigone3=t}(),function(){var e=window.ccxt,t=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).enhanced=!0,a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"describe",value:function(){var e=Object(M.a)(Object(j.a)(t.prototype),"describe",this).call(this);return e.api.public.get.push("instruments"),e}},{key:"castMarket",value:function(e,a){var n=this.safeString(e,"baseCurrency"),r=this.safeString(e,"quoteCurrency");if(e.isInverse){var c=[r,n];n=c[0],r=c[1]}var o="".concat(n,"/").concat(r);return t.ccxtSymbolToBaseFexMarket.set(o,e),t.baseFexSymbolToCcxtSymbol.set(e.symbol,o),{id:this.safeString(e,"symbol"),symbol:this.translateSymbol(n,r),base:n.toUpperCase(),quote:r.toUpperCase(),baseId:n,quoteId:r,active:this.safeValue(e,"enable"),precision:{price:this.safeInteger(e,"priceStep")},limits:{},info:e}}},{key:"fetchMarkets",value:function(){return Object(M.a)(Object(j.a)(t.prototype),"fetchMarkets",this).call(this).then((function(e){return e}))}},{key:"translateBaseFEXSymbol",value:function(e){var a=t.ccxtSymbolToBaseFexMarket.get(e),n="";return a&&(n=a.symbol),n}},{key:"fetchTickers",value:function(){var e=Object(h.a)(f.a.mark((function e(){var a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetInstruments();case 2:return a=(a=e.sent).map((function(e){var a=t.baseFexSymbolToCcxtSymbol.get(e.symbol),r=(new Date).getTime();return{symbol:a,info:e,timestamp:r,datetime:n.iso8601(r),high:e.last24hMaxPrice,low:e.last24hMinPrice,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:e.latestPrice,last:e.latestPrice,previousClose:void 0,change:void 0,percentage:e.last24hPriceChange,average:void 0,baseVolume:e.volume24hInUsd,quoteVolume:void 0}})),e.abrupt("return",N.a.keyBy(a,"symbol"));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,a,n,r,c,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,o.length>1&&void 0!==o[1]?o[1]:void 0,a=o.length>2&&void 0!==o[2]?o[2]:void 0,n=o.length>3&&void 0!==o[3]?o[3]:{},r={symbol:this.translateBaseFEXSymbol(t),limit:a},e.next=7,this.privateGetOrders({query:this.extend(r,this.safeValue(n,"query",{}))});case 7:return c=e.sent,e.abrupt("return",this.fnMap(c,"cast_order",t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(e.basefex);t.ccxtSymbolToBaseFexMarket=new Map,t.baseFexSymbolToCcxtSymbol=new Map,e.basefex=t}();var xe=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(y.a)(this,Object(j.a)(t).call(this,null,null))).name="root store",e.config=void 0,e.exchanges=void 0,e.accounts=void 0,e.uiStates=void 0,e.config=new I(Object(g.a)(e),Object(g.a)(e)),e.exchanges=new ve(Object(g.a)(e),Object(g.a)(e)),e.accounts=new ke(Object(g.a)(e),Object(g.a)(e)),e.uiStates=new Oe(Object(g.a)(e),Object(g.a)(e)),e}return Object(k.a)(t,e),t}(w),Ee=p.a.createContext(null);function we(){return Object(u.useContext)(Ee)}window.mobx=E;var Ce=a(84),Se=a(64),Te=(a(227),a(16)),Ae=(a(459),a(74)),Ie=(a(230),a(95)),Me=Ie.a.Header,Re=Ie.a.Footer,Pe=Ie.a.Content,Ne=function(e){return p.a.createElement(Ie.a,null,p.a.createElement(ze,null),p.a.createElement(Pe,{style:{minHeight:"90vh"}},e.children),p.a.createElement(Re,null,"Footer"))},ze=Object(Te.b)((function(){var e=we().uiStates,t=Object(Se.g)();return p.a.createElement(Me,{className:"appHeader"},p.a.createElement(Ae.a,{theme:"light",mode:"horizontal",defaultSelectedKeys:["exchanges"],style:{lineHeight:"64px"}},p.a.createElement(Ae.a.Item,{key:"exchanges",onClick:function(){t.push("/")}},"Exchanges"),p.a.createElement(Ae.a.Item,{key:"exchange",onClick:function(){var a=e.exchange?e.exchange.exchange:"";t.push("/exchange/".concat(a))}},"Exchange")))})),Be=(a(80),a(36)),De=(a(458),a(200)),Ke=a(462),Fe=a(461),Ue=a(203);function Xe(e){var t=e.columns.map((function(e){if(e.title=e.title||N.a.capitalize(e.dataIndex),e.key=e.key||e.dataIndex,e.width=e.width||200,e.render){var t=e.render;e.render=function(a,n,r){return p.a.createElement(He,{r:function(){var a=n[e.dataIndex];return t(a,n,r)}})}}else e.render=function(t,a){return p.a.createElement(He,{r:function(){return a[e.dataIndex]}})};return e}));return p.a.createElement(De.a,Object.assign({},e,{columns:t}))}function He(e){return p.a.createElement(Te.a,{render:e.r})}var qe=Object(Te.b)((function(e){var t=e.val,a=e.market,n=8;"USDT"===a.quote&&(n=2);var r=N.a.ceil(t,n);return p.a.createElement("span",null,r," ",a.quote)})),Ge=Object(Te.b)((function(e){var t=e.val,a=e.len,n=void 0===a?4:a,r=N.a.ceil(100*t,n);return p.a.createElement("span",null,r," %")})),Ve=function(e){var t=e.val,a="yyyy-MM-dd HH:mm:ss";return Object(Ke.a)(t)&&(a="HH:mm:ss"),Object(Fe.a)(t,a)},We=function(e){return p.a.createElement(Be.a,{type:"primary",shape:"circle",icon:"sync",onClick:e.onClick,loading:e.loading})},Le=Object(Te.b)((function(e){var t=e.time;return N.a.isDate(e.time)?p.a.createElement(Ue.a,{datetime:e.time,locale:"en_US"}):t})),Ze=(a(372),a(373),a(205)),Je=(a(377),a(2)),_e=a.n(Je),$e=Object(Te.b)((function(e){var t=e.updatableRes,a=e.noContentPadding,n=void 0===a||a,r=e.updateImmediately,c=void 0===r||r,o=Object(u.useCallback)(Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.updateRes();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn("updatableRes failed",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),[t]);Object(u.useEffect)((function(){c&&o()}),[]);var i=N.a.omit(e,["updatableRes","noContentPadding","updateImmediately"]);return p.a.createElement(Ze.a,Object.assign({},i,{title:p.a.createElement("div",{className:"titleWithUpdateTime"},p.a.createElement("div",null,e.title),p.a.createElement("div",{className:"updateTime"},p.a.createElement(Le,{time:t.lastUpdateTime}))),className:_e()("UpdatableCard",{noContentPadding:n},i.className),size:"small",extra:p.a.createElement("div",null,p.a.createElement(We,{onClick:function(){o()},loading:t.loading}))}),i.children)})),Qe=Object(Te.b)((function(e){var t=we().exchanges,a=t.all;return p.a.createElement("div",{className:"Exchanges",style:{padding:24}},p.a.createElement($e,{title:p.a.createElement("div",null,"Exchanges"),updatableRes:t},p.a.createElement(Xe,{size:"small",dataSource:a,rowKey:"exchange",columns:[{title:"Id",dataIndex:"exchange",render:function(e,t){return p.a.createElement("div",null,p.a.createElement(Ce.b,{to:"/exchange/".concat(t.exchange)},e))}}]})))})),Ye=Object(Te.b)((function(){return p.a.createElement(Ne,null,p.a.createElement(Qe,null))})),et=(a(139),a(66)),tt=(a(382),a(183),a(59)),at=(a(184),a(39)),nt=(a(383),a(186),a(5)),rt=(a(385),a(86)),ct=a.n(rt),ot=Object(Te.b)((function(e){var t=e.market.recentTrades,a=t.trades;return p.a.createElement($e,{title:"Recent Trades",className:"RecentTrades",updatableRes:t},p.a.createElement(ct.a,{style:{height:600},autoHide:!0},p.a.createElement("div",{className:"TradeHistoryContainer"},a.map((function(e){return p.a.createElement(it,{key:e.id,trade:e})})))))})),it=Object(Te.b)((function(e){var t=e.trade;return p.a.createElement("div",{className:"TradeHistoryContainer_item"},p.a.createElement(st,{tick:t.tick}),p.a.createElement("div",{className:"price"},t.price),p.a.createElement("div",{className:"volume"},t.amount),p.a.createElement("div",{className:"time"},p.a.createElement(Ve,{val:t.timestamp})),p.a.createElement("div",{className:"side"},t.side===s.buy?"B":"S"))})),st=Object(Te.b)((function(e){var t=e.tick,a=p.a.createElement(nt.a,{type:"arrow-up"});switch(t){case l.plusTick:a=p.a.createElement(nt.a,{type:"arrow-up"});break;case l.zeroPlusTick:a=p.a.createElement(nt.a,{type:"caret-up"});break;case l.minusTick:a=p.a.createElement(nt.a,{type:"arrow-down"});break;case l.zeroMinusTick:a=p.a.createElement(nt.a,{type:"caret-down"})}return p.a.createElement("div",{className:"icon ".concat(t)},a)})),lt=(a(399),Object(Te.b)((function(e){var t=e.market,a=t.orderBook,n=Object(Te.c)((function(){return{showNum:12,side:s.both,get asks(){return(n.side===s.both?N.a.take(a.asks,n.showNum):a.asks).reverse()},get bids(){return n.side===s.both?N.a.take(a.bids,n.showNum):a.bids},setSide:function(e){n.side=e}}})),r=n.asks,c=n.bids;return p.a.createElement($e,{title:"OrderBook",className:"OrderBook",updatableRes:a},p.a.createElement(ct.a,{style:{height:600},autoHide:!0},p.a.createElement("div",{className:"OrderBookContainer"},p.a.createElement("div",{className:"OrderBookInnerHeader"},p.a.createElement("div",{className:"sideBtns"},p.a.createElement(Be.a,{size:"small",icon:"vertical-align-middle",onClick:function(){return n.setSide(s.both)}}),p.a.createElement(Be.a,{size:"small",icon:"vertical-align-top",onClick:function(){return n.setSide(s.buy)}}),p.a.createElement(Be.a,{size:"small",icon:"vertical-align-bottom",onClick:function(){return n.setSide(s.sell)}}))),p.a.createElement("div",{className:"centeredContent"},n.side===s.both?p.a.createElement(p.a.Fragment,null,r.map((function(e,t){return p.a.createElement(ut,{key:t,item:e})})),p.a.createElement("div",{className:"MarketPrice"},p.a.createElement(pt,{market:t})),c.map((function(e,t){return p.a.createElement(ut,{key:t,item:e})}))):p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"MarketPrice"},p.a.createElement(pt,{market:t})),n.side===s.buy&&r.map((function(e,t){return p.a.createElement(ut,{key:t,item:e})})),n.side===s.sell&&c.map((function(e,t){return p.a.createElement(ut,{key:t,item:e})})))))))}))),ut=Object(Te.b)((function(e){var t=e.item;return p.a.createElement("div",{className:"OrderBookItem"},p.a.createElement("div",{className:"price"},t.price),p.a.createElement("div",{className:"size"},t.size),p.a.createElement("div",{className:"accumulateSize"},t.accumulateSize))})),pt=Object(Te.b)((function(e){var t=e.market;return p.a.createElement("div",null,t.lastPrice)})),bt=a(204),mt=(a(110),a(46)),dt=(a(400),mt.a.TabPane),ft=Object(Te.b)((function(e){var t=e.exchange,a=we().uiStates,n=Object(Te.c)((function(){return{get quotes(){var e=new Set;return t.allMarkets.forEach((function(t){e.add(t.spec.quote)})),Array.from(e)}}}));return p.a.createElement($e,{title:"Markets",className:"Markets",updatableRes:t,updateImmediately:!1},p.a.createElement(mt.a,{defaultActiveKey:"1",onChange:function(){}},function(){var e=a.account;if(e){var t=e.balances.balancesNotZero,n=[];return t.forEach((function(t){n.push.apply(n,Object(bt.a)(e.exchange.getMarketsByCoinSymbolFilterActive(t.base)))})),p.a.createElement(dt,{tab:p.a.createElement(nt.a,{type:"bank"}),key:e.name},p.a.createElement(ht,{markets:n}))}return null}(),n.quotes.map((function(e){var a=t.allMarkets.filter((function(t){return t.spec.active&&t.spec.quote===e}));return p.a.createElement(dt,{tab:e,key:e},p.a.createElement(ht,{markets:a}))}))))})),ht=Object(Te.b)((function(e){var t=e.markets,a=we().uiStates;return p.a.createElement(Xe,{size:"small",dataSource:t,rowKey:function(e){return e.spec.symbol},onRow:function(e){return{onClick:function(){a.market=e}}},columns:[{dataIndex:"exchange",render:function(e,t){return p.a.createElement("div",null,t.spec.symbol)}},{dataIndex:"price",render:function(e,t){return p.a.createElement("div",null,t.lastTicker&&t.lastTicker.close)}}]})})),vt=(a(401),mt.a.TabPane),Ot=Object(Te.b)((function(e){var t=e.account,a=e.market,n=t.safeGetAccountOrder(a),r=Object(Te.c)((function(){return{activeTab:"active"}}));if(!n)return null;var c=function(e){return p.a.createElement(Xe,{size:"small",dataSource:e,rowKey:"id",columns:[{dataIndex:"symbol"},{dataIndex:"timestamp",render:function(e){return p.a.createElement(Ve,{val:e})}},{dataIndex:"side"},{dataIndex:"type"},{dataIndex:"status"},{dataIndex:"amount"},{dataIndex:"cost"},{dataIndex:"price"},{dataIndex:"filled"},{dataIndex:"remaining"}]})};return p.a.createElement($e,{title:p.a.createElement("div",null,"Orders ",p.a.createElement(He,{r:function(){return a.spec.symbol}})),className:"UserOrders",updatableRes:n},p.a.createElement("div",{className:"UserOrdersContainer"},p.a.createElement(mt.a,{defaultActiveKey:"all",onChange:function(e){r.activeTab=e}},p.a.createElement(vt,{tab:"Active",key:"active"},c(n.activeOrders)),p.a.createElement(vt,{tab:"All",key:"all"},c(n.all)))))})),yt=(a(402),a(201)),jt=(a(404),a(122)),gt=(a(406),a(88)),kt=(a(408),a(206)),xt=(a(410),a(411),a(202)),Et=(a(413),a(123)),wt=(a(415),Object(Te.b)((function(e){var t=e.market,a=e.account,n=a.balances,r=n.map.get(t.spec.base);if(!n||!r)return null;var c=a.safeGetAccountOrder(t),o=a.computeProfitAndRate(t),i=o.profit,s=o.rate;return p.a.createElement($e,{title:p.a.createElement("div",null,a.name,"-",p.a.createElement(He,{r:function(){return t.spec.symbol}})),className:"BalanceCard",updatableRes:t},p.a.createElement(ct.a,{style:{height:400},autoHide:!0},p.a.createElement("div",{className:"BalanceCardContainer"},p.a.createElement(Ct,{balance:r}),p.a.createElement("div",{className:"ProfitSection"},p.a.createElement("h3",null,"Profit"),p.a.createElement("div",null,p.a.createElement(qe,{val:i,market:t.spec})," /"," ",p.a.createElement(Ge,{val:s})),p.a.createElement("div",{className:"profitRow2"},p.a.createElement("div",null,p.a.createElement(Et.a,{color:"red",text:"Cost"}),p.a.createElement(qe,{val:a.computeOutMoneyByHistory(c.all),market:t.spec})),p.a.createElement("div",null,p.a.createElement(Et.a,{color:"green",text:"Current Value"}),p.a.createElement(qe,{val:a.computeCurrentValue(t),market:t.spec})))))))}))),Ct=Object(Te.b)((function(e){var t=e.balance,a=t.used/t.total*100,n=t.free/t.total*100,r=function(e,a,n,r){return p.a.createElement("div",{className:"BalanceItemRow"},p.a.createElement(xt.a,{percent:a,size:"small",showInfo:!1}),p.a.createElement("div",{className:"BalanceItemRowDown"},p.a.createElement(Et.a,{status:"success",text:n}),p.a.createElement("div",{className:"BalanceItemRowText"},t.total)))};return p.a.createElement("div",{className:"BalanceItem"},r(0,100,"Total",t.total),r(0,n,"Free",t.free),r(0,a,"Used",t.used))})),St=mt.a.TabPane,Tt=Object(Te.b)((function(e){var t=e.exchange,a=we().uiStates;return p.a.createElement(mt.a,{defaultActiveKey:"1",onChange:function(){}},p.a.createElement(St,{tab:"Accounts",key:"1"},p.a.createElement(At,{exchange:t})),p.a.createElement(St,{tab:"Balance",key:"2"},a.market&&a.account&&p.a.createElement(wt,{account:a.account,market:a.market})))})),At=Object(Te.b)((function(e){var t=e.exchange,a=we(),n=a.accounts,r=a.uiStates,c=Object(u.useRef)(null),o=Object(Te.c)((function(){return{visible:!1,addAccount:function(e,a){n.createAccountAndSaveLs(t,e,a).then((function(){console.log("\u6dfb\u52a0\u6210\u529f"),o.visible=!1}))},handleCreate:function(){c.current.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),o.addAccount(t.name,{apiKey:t.apiKey,secret:t.secret}))}))}}}));Object(u.useEffect)((function(){}),[]);var i=n.all.filter((function(e){return e.exchange===t}));return p.a.createElement($e,{title:p.a.createElement("div",null,"Accounts in:",t.exchange),updatableRes:n},p.a.createElement("div",{style:{padding:12}},p.a.createElement(Be.a,{type:"primary",onClick:function(){o.visible=!0}},"add")),p.a.createElement(It,{wrappedComponentRef:c,visible:o.visible,onCancel:function(){o.visible=!1},onCreate:function(){o.handleCreate()}}),p.a.createElement(Xe,{size:"small",dataSource:i,rowKey:function(e){return e.name},columns:[{dataIndex:"name",render:function(e,t){return p.a.createElement(kt.a,{color:"gold",onClick:function(){r.account=t}},t.name)}},{dataIndex:"action",render:function(e,t){return p.a.createElement("div",null,p.a.createElement(Be.a,{type:"danger",size:"small",onClick:function(){n.lsAccountsRemove(t.name)}},"delete"))}}]}),r.account&&p.a.createElement(Rt,{key:r.account.name,account:r.account}))})),It=gt.a.create({name:"AccountCreateForm"})(function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props;e.visible,e.onCancel,e.onCreate,e.form.getFieldDecorator;return p.a.createElement(Mt,this.props)}}]),t}(p.a.Component));function Mt(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form.getFieldDecorator;return p.a.createElement(yt.a,{visible:t,title:"Create An Account",okText:"Create",onCancel:a,onOk:n},p.a.createElement(gt.a,{layout:"vertical"},p.a.createElement(gt.a.Item,{label:"name"},r("name",{rules:[{required:!0}]})(p.a.createElement(jt.a,null))),p.a.createElement(gt.a.Item,{label:"apiKey"},r("apiKey",{rules:[{required:!0}]})(p.a.createElement(jt.a,null))),p.a.createElement(gt.a.Item,{label:"secret"},r("secret",{rules:[{required:!0}]})(p.a.createElement(jt.a,null)))))}var Rt=Object(Te.b)((function(e){var t=e.account,a=(we().uiStates,t.balances.balancesNotZero);return p.a.createElement("div",{className:"UserAsset"},p.a.createElement($e,{title:p.a.createElement("div",null,"Balances"),updatableRes:t.balances},p.a.createElement(Xe,{size:"small",dataSource:a,rowKey:"base",columns:[{dataIndex:"base",render:function(e,a){var n=a.base;t.exchange.getMarketsByCoinSymbol(n).every((function(e){return e.loading}));return p.a.createElement("div",null,a.base," ")}},{dataIndex:"total"}]})))})),Pt=Object(Te.b)((function(e){var t=e.exchange,a=we().uiStates;return p.a.createElement("div",{className:"TradeMainView"},p.a.createElement(tt.a,null,p.a.createElement(at.a,{md:6,sm:12,xs:24},p.a.createElement(ft,{exchange:t})),a.market&&p.a.createElement(p.a.Fragment,null,p.a.createElement(at.a,{md:6,sm:12,xs:24},p.a.createElement(lt,{key:a.market.spec.symbol,market:a.market})),p.a.createElement(at.a,{md:6,sm:12,xs:24},p.a.createElement(ot,{key:a.market.spec.symbol,market:a.market}))),p.a.createElement(at.a,{md:6,sm:12,xs:24},p.a.createElement(Tt,{exchange:t}))),p.a.createElement(tt.a,null,p.a.createElement(at.a,{span:24},p.a.createElement("div",{style:{maxWidth:"100%",overflowX:"scroll"}},p.a.createElement("div",{style:{minWidth:900}},a.market&&a.account&&p.a.createElement(Ot,{key:a.market.spec.symbol+a.account.name,account:a.account,market:a.market}))))))})),Nt=Object(Te.b)((function(e){var t=e.exchange;we().uiStates,t.allMarkets;return p.a.createElement($e,{title:p.a.createElement("div",null,"Exchange - ",t.exchange),updatableRes:t},p.a.createElement(Pt,{exchange:t}))})),zt=Object(Te.b)((function(){var e=we(),t=e.exchanges,a=e.uiStates,n=Object(Se.h)().exchangeKey,r=t.exchangesMap.get(n);return Object(u.useEffect)((function(){a.changeExchange(r)}),[r]),p.a.createElement(Ne,null,r?p.a.createElement(Nt,{key:r.exchange,exchange:r}):p.a.createElement(et.a,null))}));function Bt(){return p.a.createElement(Ce.a,null,p.a.createElement("div",null,p.a.createElement(Se.d,null,p.a.createElement(Se.b,{exact:!0,path:"/"},p.a.createElement(Ye,null)),p.a.createElement(Se.b,{path:"/exchange/:exchangeKey"},p.a.createElement(zt,null)),p.a.createElement(Se.a,{from:"/exchange",to:"/exchange/none"}))))}var Dt=window.store=window.ss=new xe,Kt=function(){var e=Object(u.useState)(!1),t=Object(v.a)(e,2),a=t[0],n=t[1];return Object(u.useEffect)((function(){(function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt.exchanges.initExchanges();case 2:n(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),p.a.createElement("div",{className:"App"},p.a.createElement(Ee.Provider,{value:Dt},a&&p.a.createElement(Bt,null)))},Ft=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ut(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}m.a.render(p.a.createElement(Kt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Ft?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ut(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ut(t,e)}))}}()}},[[209,1,2]]]);
//# sourceMappingURL=main.bdc2c843.chunk.js.map